{
  "info": {
    "name": "Eyada Clinic Booking API - Complete",
    "_postman_id": "eyada-complete-api-v2",
    "description": "Complete API documentation with full search and filter support\n\n## Pagination\nAll list endpoints support:\n- page (default: 1)\n- limit (default: 20, max: 100)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000"},
    {"key": "accessToken", "value": ""},
    {"key": "refreshToken", "value": ""},
    {"key": "doctorId", "value": ""},
    {"key": "clinicId", "value": ""},
    {"key": "appointmentId", "value": ""},
    {"key": "specialtyId", "value": ""},
    {"key": "stateId", "value": ""},
    {"key": "cityId", "value": ""},
    {"key": "serviceId", "value": ""}
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register Patient",
          "event": [{"listen": "test", "script": {"exec": ["if (pm.response.code === 201) { var d = pm.response.json(); pm.collectionVariables.set('accessToken', d.accessToken); pm.collectionVariables.set('refreshToken', d.refreshToken); }"], "type": "text/javascript"}}],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"email\": \"patient@example.com\",\n  \"phoneNumber\": \"01012345678\",\n  \"password\": \"Password123!\",\n  \"fullName\": \"Ahmed Mohamed\",\n  \"role\": \"PATIENT\"\n}"},
            "url": {"raw": "{{baseUrl}}/auth/register", "host": ["{{baseUrl}}"], "path": ["auth", "register"]}
          }
        },
        {
          "name": "Login",
          "event": [{"listen": "test", "script": {"exec": ["if (pm.response.code === 200) { var d = pm.response.json(); pm.collectionVariables.set('accessToken', d.accessToken); pm.collectionVariables.set('refreshToken', d.refreshToken); }"], "type": "text/javascript"}}],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"email\": \"patient@example.com\",\n  \"password\": \"Password123!\"\n}"},
            "url": {"raw": "{{baseUrl}}/auth/login", "host": ["{{baseUrl}}"], "path": ["auth", "login"]}
          }
        },
        {
          "name": "Get Me",
          "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/auth/me", "host": ["{{baseUrl}}"], "path": ["auth", "me"]}}
        }
      ]
    },
    {
      "name": "Doctors - Search & Filter",
      "item": [
        {
          "name": "Search Doctors (All Filters)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/doctors?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["doctors"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "specialtyId", "value": "{{specialtyId}}", "disabled": true, "description": "Filter by specialty UUID"},
                {"key": "cityId", "value": "{{cityId}}", "disabled": true, "description": "Filter by city UUID"},
                {"key": "stateId", "value": "{{stateId}}", "disabled": true, "description": "Filter by state UUID"},
                {"key": "search", "value": "محمد", "disabled": true, "description": "Search by doctor name"},
                {"key": "minRating", "value": "4", "disabled": true, "description": "Minimum rating (0-5)"},
                {"key": "priceMin", "value": "100", "disabled": true, "description": "Minimum service price"},
                {"key": "priceMax", "value": "500", "disabled": true, "description": "Maximum service price"}
              ]
            }
          }
        },
        {"name": "Search by Specialty", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors?specialtyId={{specialtyId}}", "host": ["{{baseUrl}}"], "path": ["doctors"], "query": [{"key": "specialtyId", "value": "{{specialtyId}}"}]}}},
        {"name": "Search by City", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors?cityId={{cityId}}", "host": ["{{baseUrl}}"], "path": ["doctors"], "query": [{"key": "cityId", "value": "{{cityId}}"}]}}},
        {"name": "Search by Name", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors?search=محمد", "host": ["{{baseUrl}}"], "path": ["doctors"], "query": [{"key": "search", "value": "محمد"}]}}},
        {"name": "Filter by Rating", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors?minRating=4", "host": ["{{baseUrl}}"], "path": ["doctors"], "query": [{"key": "minRating", "value": "4"}]}}},
        {"name": "Filter by Price", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors?priceMin=100&priceMax=500", "host": ["{{baseUrl}}"], "path": ["doctors"], "query": [{"key": "priceMin", "value": "100"}, {"key": "priceMax", "value": "500"}]}}},
        {"name": "Get Doctor by ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/doctors/{{doctorId}}", "host": ["{{baseUrl}}"], "path": ["doctors", "{{doctorId}}"]}}}
      ]
    },
    {
      "name": "Clinics - Search & Filter",
      "item": [
        {
          "name": "Search Clinics (All Filters)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/clinics?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["clinics"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "cityId", "value": "{{cityId}}", "disabled": true},
                {"key": "stateId", "value": "{{stateId}}", "disabled": true},
                {"key": "specialtyId", "value": "{{specialtyId}}", "disabled": true},
                {"key": "search", "value": "النور", "disabled": true, "description": "Search by name/address/doctor"},
                {"key": "priceMin", "value": "100", "disabled": true},
                {"key": "priceMax", "value": "500", "disabled": true},
                {"key": "minRating", "value": "4", "disabled": true},
                {"key": "latitude", "value": "30.0626", "disabled": true},
                {"key": "longitude", "value": "31.3456", "disabled": true},
                {"key": "radiusKm", "value": "10", "disabled": true, "description": "Distance search in km"}
              ]
            }
          }
        },
        {"name": "Search by City", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/clinics?cityId={{cityId}}", "host": ["{{baseUrl}}"], "path": ["clinics"], "query": [{"key": "cityId", "value": "{{cityId}}"}]}}},
        {"name": "Search by Name", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/clinics?search=النور", "host": ["{{baseUrl}}"], "path": ["clinics"], "query": [{"key": "search", "value": "النور"}]}}},
        {"name": "Search Nearby", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/clinics?latitude=30.0626&longitude=31.3456&radiusKm=5", "host": ["{{baseUrl}}"], "path": ["clinics"], "query": [{"key": "latitude", "value": "30.0626"}, {"key": "longitude", "value": "31.3456"}, {"key": "radiusKm", "value": "5"}]}}},
        {"name": "Get Clinic by ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/clinics/{{clinicId}}", "host": ["{{baseUrl}}"], "path": ["clinics", "{{clinicId}}"]}}},
        {"name": "Get Available Slots", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/clinics/{{clinicId}}/available-slots?date=2024-01-20", "host": ["{{baseUrl}}"], "path": ["clinics", "{{clinicId}}", "available-slots"], "query": [{"key": "date", "value": "2024-01-20"}]}}}
      ]
    },
    {
      "name": "Patient Appointments - Filter",
      "item": [
        {
          "name": "Get Appointments (All Filters)",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": {
              "raw": "{{baseUrl}}/patients/appointments?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "appointments"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "status", "value": "PENDING", "disabled": true, "description": "PENDING/CONFIRMED/CHECKED_IN/COMPLETED/CANCELLED/NO_SHOW"},
                {"key": "paymentStatus", "value": "PENDING", "disabled": true, "description": "PENDING/PAID/REFUNDED"},
                {"key": "dateFrom", "value": "2024-01-01", "disabled": true},
                {"key": "dateTo", "value": "2024-12-31", "disabled": true},
                {"key": "clinicId", "value": "{{clinicId}}", "disabled": true},
                {"key": "doctorId", "value": "{{doctorId}}", "disabled": true},
                {"key": "upcoming", "value": "true", "disabled": true, "description": "Only future appointments"},
                {"key": "forFamilyMember", "value": "false", "disabled": true, "description": "true=family, false=self, empty=all"}
              ]
            }
          }
        },
        {"name": "Filter by Status", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/patients/appointments?status=CONFIRMED", "host": ["{{baseUrl}}"], "path": ["patients", "appointments"], "query": [{"key": "status", "value": "CONFIRMED"}]}}},
        {"name": "Filter Upcoming", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/patients/appointments?upcoming=true", "host": ["{{baseUrl}}"], "path": ["patients", "appointments"], "query": [{"key": "upcoming", "value": "true"}]}}},
        {"name": "Filter by Date Range", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/patients/appointments?dateFrom=2024-01-01&dateTo=2024-01-31", "host": ["{{baseUrl}}"], "path": ["patients", "appointments"], "query": [{"key": "dateFrom", "value": "2024-01-01"}, {"key": "dateTo", "value": "2024-01-31"}]}}},
        {"name": "Create Appointment", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}, {"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"clinicId\": \"{{clinicId}}\",\n  \"serviceTypeId\": \"{{serviceId}}\",\n  \"appointmentDate\": \"2024-01-20\",\n  \"appointmentTime\": \"10:00\"\n}"}, "url": {"raw": "{{baseUrl}}/patients/appointments", "host": ["{{baseUrl}}"], "path": ["patients", "appointments"]}}},
        {"name": "Cancel Appointment", "request": {"method": "PATCH", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}, {"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\"reason\": \"ظروف طارئة\"}"}, "url": {"raw": "{{baseUrl}}/patients/appointments/{{appointmentId}}/cancel", "host": ["{{baseUrl}}"], "path": ["patients", "appointments", "{{appointmentId}}", "cancel"]}}}
      ]
    },
    {
      "name": "Doctor Appointments - Filter",
      "item": [
        {
          "name": "Get Appointments (All Filters)",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": {
              "raw": "{{baseUrl}}/doctors/appointments?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["doctors", "appointments"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "clinicId", "value": "{{clinicId}}", "disabled": true},
                {"key": "status", "value": "PENDING", "disabled": true},
                {"key": "paymentStatus", "value": "PENDING", "disabled": true},
                {"key": "date", "value": "2024-01-20", "disabled": true, "description": "Specific date"},
                {"key": "dateFrom", "value": "2024-01-01", "disabled": true},
                {"key": "dateTo", "value": "2024-01-31", "disabled": true},
                {"key": "search", "value": "أحمد", "disabled": true, "description": "Search patient name/booking number"},
                {"key": "serviceTypeId", "value": "{{serviceId}}", "disabled": true},
                {"key": "upcoming", "value": "true", "disabled": true}
              ]
            }
          }
        },
        {"name": "Filter by Date", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/doctors/appointments?date=2024-01-20", "host": ["{{baseUrl}}"], "path": ["doctors", "appointments"], "query": [{"key": "date", "value": "2024-01-20"}]}}},
        {"name": "Search Patient", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/doctors/appointments?search=أحمد", "host": ["{{baseUrl}}"], "path": ["doctors", "appointments"], "query": [{"key": "search", "value": "أحمد"}]}}},
        {"name": "Filter by Payment", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/doctors/appointments?paymentStatus=PENDING", "host": ["{{baseUrl}}"], "path": ["doctors", "appointments"], "query": [{"key": "paymentStatus", "value": "PENDING"}]}}},
        {"name": "Update Status", "request": {"method": "PATCH", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}, {"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\"status\": \"CONFIRMED\"}"}, "url": {"raw": "{{baseUrl}}/doctors/appointments/{{appointmentId}}/status", "host": ["{{baseUrl}}"], "path": ["doctors", "appointments", "{{appointmentId}}", "status"]}}},
        {"name": "Update Payment", "request": {"method": "PATCH", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}, {"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\"paymentStatus\": \"PAID\", \"paymentMethod\": \"CASH\"}"}, "url": {"raw": "{{baseUrl}}/doctors/appointments/{{appointmentId}}/payment", "host": ["{{baseUrl}}"], "path": ["doctors", "appointments", "{{appointmentId}}", "payment"]}}}
      ]
    },
    {
      "name": "Secretary Appointments - Filter",
      "item": [
        {"name": "Get My Clinics", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}], "url": {"raw": "{{baseUrl}}/secretary/appointments/clinics", "host": ["{{baseUrl}}"], "path": ["secretary", "appointments", "clinics"]}}},
        {
          "name": "Get Appointments (All Filters)",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": {
              "raw": "{{baseUrl}}/secretary/appointments?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["secretary", "appointments"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "clinicId", "value": "{{clinicId}}", "disabled": true},
                {"key": "status", "value": "PENDING", "disabled": true},
                {"key": "paymentStatus", "value": "PENDING", "disabled": true},
                {"key": "date", "value": "2024-01-20", "disabled": true},
                {"key": "dateFrom", "value": "2024-01-01", "disabled": true},
                {"key": "dateTo", "value": "2024-01-31", "disabled": true},
                {"key": "search", "value": "أحمد", "disabled": true},
                {"key": "upcoming", "value": "true", "disabled": true}
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Locations",
      "item": [
        {"name": "Get States", "event": [{"listen": "test", "script": {"exec": ["if (pm.response.code === 200) { var d = pm.response.json(); if (d.length > 0) pm.collectionVariables.set('stateId', d[0].id); }"], "type": "text/javascript"}}], "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/states", "host": ["{{baseUrl}}"], "path": ["states"]}}},
        {"name": "Get Cities", "event": [{"listen": "test", "script": {"exec": ["if (pm.response.code === 200) { var d = pm.response.json(); if (d.length > 0) pm.collectionVariables.set('cityId', d[0].id); }"], "type": "text/javascript"}}], "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/cities", "host": ["{{baseUrl}}"], "path": ["cities"]}}},
        {"name": "Get Cities by State", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/cities?stateId={{stateId}}", "host": ["{{baseUrl}}"], "path": ["cities"], "query": [{"key": "stateId", "value": "{{stateId}}"}]}}}
      ]
    },
    {
      "name": "Specialties",
      "item": [
        {"name": "Get All", "event": [{"listen": "test", "script": {"exec": ["if (pm.response.code === 200) { var d = pm.response.json(); if (d.length > 0) pm.collectionVariables.set('specialtyId', d[0].id); }"], "type": "text/javascript"}}], "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/specialties", "host": ["{{baseUrl}}"], "path": ["specialties"]}}}
      ]
    }
  ]
}
